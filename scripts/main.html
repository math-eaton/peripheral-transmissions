<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Equal Earth Map</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/to pojson@3.0.2/dist/topojson.min.js"></script>
  </head>
  <body>
    <svg width="960" height="500"></svg>

    <script>
      const svg = d3.select("svg");

      // Define the projection and path
      const projection = d3.geoEqualEarth().scale(160).translate([480, 250]);
      const path = d3.geoPath(projection);

      // Load the world map data
      d3.json("https://raw.githubusercontent.com/d3/d3-geo/master/data/world-110m.json").then(data => {

        // Create the countries path and add it to the SVG element
        const countries = topojson.feature(data, data.objects.countries);
        svg.selectAll(".country")
          .data(countries.features)
          .join("path")
            .attr("class", "country")
            .attr("d", path)
            .attr("fill", "none")
            .attr("stroke", "black")
            .attr("stroke-width", 0.5);

        // Create the graticule path and add it to the SVG element
        const graticule = d3.geoGraticule10();
        svg.append("path")
          .datum(graticule)
          .attr("class", "graticule")
          .attr("d", path)
          .attr("fill", "none")
          .attr("stroke", "black")
          .attr("stroke-width", 0.2);
      });
    </script>
  </body>
</html>
